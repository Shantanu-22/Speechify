<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Speechify</title>
        <link rel="icon" href="lang-logo.png" type="image/x-icon">
        <link rel="stylesheet" href="Speechify.css"> 
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    </head>
    
<body>
    <img src="lang-logo.png" alt="lang-logo" class="lang-logo">
    <h1 >Speechify</h1>
    
    <div class="center">
        <div class="micbox">
            <button class="mic" id="speechinput"><i class="fas fa-microphone" ></i></button>
        </div>
        <div class="uppar-text-box">
            <button id="copyButton" class="copy-button" aria-label="Copy to Clipboard"><i class="fas fa-copy"></i></button>
            <script type="module">
                let isCopied = false; // Variable to track whether text is copied

                const copyButton = document.getElementById('copyButton');
                const textToCopy = document.getElementById('myTextarea');

                copyButton.addEventListener('click', () => {
                textToCopy.select();
                document.execCommand('copy');
                // Change button content to a tick (checkmark) icon
                copyButton.innerHTML = '<i class="fas fa-check"></i>';
                copyButton.style.color = 'green'; /* Change button color after copying */

                // Set isCopied to true
                isCopied = true;

                // Reset button appearance after a short delay (for user feedback)
                setTimeout(() => {
                resetButtonAppearance();
                }, 1500); // Reset after 1.5 seconds (adjust as needed)
                });

                // Reset button appearance when new text is entered
                textToCopy.addEventListener('input', () => {
                if (isCopied) {
                resetButtonAppearance();
                }
                });

                function resetButtonAppearance() {
                copyButton.innerHTML = '<i class="fas fa-copy">';
                copyButton.style.color = ''; // Reset button color
                isCopied = false; // Reset the isCopied variable
                }

            </script>
        </div>
        <textarea style="font-family: Arial, Helvetica, sans-serif;" cols="30" rows="10" id="myTextarea"></textarea><br>
        <div id="input">
            <input type="file" class="file"><br>
        </div>
        
        <select name="" id="sel"></select>
        <div id="Buttons" >
            <button id="play" class="play" onclick="speakInputText()">Play</button>
            <button class="speed">Speed</button>
            <button class="stop" onclick="stopSpeech()">Stop</button>
            <select name="" class="for_speed" onchange="changeVoiceSpeed(this.value)">
            <option value="1">1x</option>
            <option value="0.5">0.5</option>
            <option value="1.25">1.25</option>
            <option value="1.5">1.5</option>
            </select>
        </div>
        <button id="clear-text">Clear Text</button>
    </div>
    <form action="" id="chatForm">
        <input type="text" id="fname" name="fname" placeholder="Send a message">
        <button type="submit" class="send-button" id="chatResponse"><i class="fas fa-paper-plane"></i></button>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="module" src="gpt.js"></script>
    <script>
        //Clear Button
        // Get references to HTML elements
        const userInput = document.getElementById("myTextarea");
        const clearButton = document.getElementById("clear-text");

        // Function to clear the input field
        function clearInput() {
        userInput.value = "";
        }

        // Event listener for the clear button
        clearButton.addEventListener("click", clearInput);

    </script>
    <script src="mic.js"></script>
    <script src="TTS.js"></script>
</body>
</html>
